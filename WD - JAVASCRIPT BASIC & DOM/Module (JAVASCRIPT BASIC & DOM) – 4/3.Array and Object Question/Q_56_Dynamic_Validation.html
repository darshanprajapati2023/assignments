<!-- Q.56 Dynamic Form Validation in JS? -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array and object Question-Q_56</title>
</head>

<body>

    <h2>Dynamic Form Validation Example</h2>

    <form id="myForm">
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email"><span id="emailError" style="color: red;"></span><br>

        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><span id="passwordError" style="color: red;"></span><br>

        <input type="submit" value="Submit">
    </form>

    <script>
        document.getElementById("myForm").addEventListener("input", function (event) {
            const target = event.target;
            const id = target.id;
            const value = target.value.trim();
            const errorSpan = document.getElementById(id + "Error");

            switch (id) {
                case "email":
                    if (value === "") {
                        errorSpan.textContent = "Email must be filled out";
                    } else {
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(value)) {
                            errorSpan.textContent = "Invalid email format";
                        } else {
                            errorSpan.textContent = "";
                        }
                    }
                    break;

                case "password":
                    if (value === "") {
                        errorSpan.textContent = "Password must be filled out";
                    } else if (value.length < 8) {
                        errorSpan.textContent = "Password must be at least 8 characters long";
                    } else {
                        errorSpan.textContent = "";
                    }
                    break;

                default:
                    break;
            }
        });

        document.getElementById("myForm").addEventListener("submit", function (event) {
            const emailValue = document.getElementById("email").value.trim();
            const passwordValue = document.getElementById("password").value.trim();
            const emailErrorSpan = document.getElementById("emailError");
            const passwordErrorSpan = document.getElementById("passwordError");

            if (emailValue === "") {
                emailErrorSpan.textContent = "Email must be filled out";
                event.preventDefault();
            }

            if (passwordValue === "") {
                passwordErrorSpan.textContent = "Password must be filled out";
                event.preventDefault();
            } else if (passwordValue.length < 8) {
                passwordErrorSpan.textContent = "Password must be at least 8 characters long";
                event.preventDefault();
            }
        });
    </script>

</body>

</html>